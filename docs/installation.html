<html>
<!-- docs/installation.html -->

<!-- Docs on installation of the project. -->

<!-- +----------------------------------------------------------------------+ -->
<!-- | PHP EMS Tools	http://www.php-ems-tools.com                        | -->
<!-- +----------------------------------------------------------------------+ -->
<!-- | Copyright (c) 2006, 2007 Jason Antman.	                            | -->
<!-- |                                                                      | -->
<!-- | This program is free software; you can redistribute it and/or modify | -->
<!-- | it under the terms of the GNU General Public License as published by | -->
<!-- | the Free Software Foundation; either version 3 of the License, or    | -->
<!-- | (at your option) any later version.                                  | -->
<!-- |                                                                      | -->
<!-- | This program is distributed in the hope that it will be useful,      | -->
<!-- | but WITHOUT ANY WARRANTY; without even the implied warranty of       | -->
<!-- | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the        | -->
<!-- | GNU General Public License for more details.                         | -->
<!-- |                                                                      | -->
<!-- | You should have received a copy of the GNU General Public License    | -->
<!-- | along with this program; if not, write to:                           | -->
<!-- |                                                                      | -->
<!-- | Free Software Foundation, Inc.                                       | -->
<!-- | 59 Temple Place - Suite 330                                          | -->
<!-- | Boston, MA 02111-1307, USA.                                          | -->
<!-- +----------------------------------------------------------------------+ -->
<!-- |Please use the above URL for bug reports and feature/support requests.| -->
<!-- +----------------------------------------------------------------------+ -->
<!-- | Authors: Jason Antman <jason@jasonantman.com>                        | -->
<!-- +----------------------------------------------------------------------+ -->
<!--	$Id$   -->

<head>
<title>PHP EMS Tools Documentation - Installation</title>
</head>
<body>
<p>
<h3>
PHP EMS Tools - Installation
<br>
SourceForge package "php-ems-tools"
</h3>
</p>
<p>This documentation is geared towards *nix systems (Unix/Linux/BSD). They
are written for Linux, but the commands should be easy enough to translate
into other nix'es.</p>
<p>
<a href="index.html">Docs</a>
</p>
<hr>
<p>
Table Of Contents:
<ol>
<li>General Notes</li>
<li>Operating System</li>
<li>System Requirements</li>
<li>Requirements</li>
<li>Installation</li>
<li>LibChart</li>
</ol>
</p>
<hr>
<p>
<b>General Notes:</b>
<p>
As of version 2.0, I have written a PHP script that handles installation. This
script needs to be run from the command-line as root, so, obviously, you need
to have root access to the machine that you're installing on. You should also
have the PHP5 installed with the CLI SAPI so that you can run it from the
command line. For most Linux distributions, this is standard. Please also be
aware that the PHP script makes a few POSIX shell calls, mainly to determine
if Apache and MySQL are running. This obviously means that the current version
of the script will NOT work under non-Unix-based OS's. I believe that the
calls should work under the non-Linux OS's, and will test on BSD and Solaris
when I get a chance, but for now, if you have any bugs, please tell me.
</p>
<p>
<b>Operating System:</b></p>
<p>
PHP EMS Tools is written entirely in PHP (with some client-side JavaScript on
the pages) and, as such, should run on almost any "modern" operating
system. This includes the various POSIX/*nix OS's (Linux, BSD, and other
Unixes), Mac, Windows, etc.
</p>
<p>
That being said, I highly recommend (and only gaurantee compadibility with)
Linux. Compadibility with other Unixes (BSD, CentOS, etc.) should be fine, but
you will need to have enough understanding of the OS to translate my
documentation (where needed) to be applicable to your OS. Most of it should be
pretty straightforward. The options other than *nix (Linux, Unix, etc.) are
pretty much Mac and Windows (yes, there are some other less-common options as
well). Both Windows and Mac have a few issues with their use for our purposes
- mainly, they are not free, not open-source, and they are mainly geared
towards desktop users, therefore they have a lot of processes running on the
system which are unnecessary for our purposes. 
</p>
<hr>
<p>
<b>System Requirements:</b></p>
<p>
PHP EMS Tools is a small package. The only real load on the system is the
MySQL database and the webserver (hopefully Apache2). The optimal system is a
Linux computer (we'll use the term "server" loosely, it can be any
computer). It is, of course, recommended that you have a good, robust system
with a RAID hard drive configuration, redundant power supplies, and a good
backup device (liek a tape drive). This being said, it is perfectly possible
to use an old desktop computer for the server. <i>PLEASE be sure that you have
a backup plan in place, and backup the data, at a minimum, once a week.</i> If
you don't have something in place, I can provide instructions on writing a
simple backup script that will dump all of the data to one file (using
mysqldump) and e-mail it to you. 
</p>
<p>
In terms of hardware, the system does not <i>by any means</i> need to be
state-of-the-art. I have run a full server hosting PHP EMS Tools from a
Pentium 133Mhz laptop with a 20Gb hard drive and 64Mb RAM. The ideal system
for most volunteer organizations, who are not taxing the system heavily
(around 100 members or less, only using the schedule from 1 or 2 computers)
would be a 500Mhz desktop or server computer, with at least 128-256Mb RAM, a
network card, a tape drive or other automated backup device, a network card,
and a UPS (Uninterruptible Power Supply). Hard drives need not be large, 20Gb
will be MORE than enough, but should ideally be two drives in a mirrored RAID
configuration. </p>
<p>
Specs need not even be that high, but I must stress the importance of doing
backups AT LEAST once a week, if not nightly (nightly is highly recommended)
and storing the backups on a non-networked system (a removable disk, or
sending them to multiple off-site machines). The idea is that, if every
machine in your building was fried in one instant, you want the data to still
exist. I also highly recommend printing out paper copies of the schedule on a
regular basis.
</p>
<p><b>System Configuration - </b>As stated above, I highly recommend a
Linux-based system. Personally, I'm a fan of SuSE (now OpenSuSE) but any
robust distribution will do. The system should be configured minimally as a
server, having only the necessary services running. I recommend a
non-graphical system (without X windows), as running X will add substantially
to the load on the system, but is not needed at all. 
</p>
<p>
As with any system, security is a large concern, even more so if the system is
accessible from the outside world (on the Internet). I recommend reading up on
Linux security, and configuring whatever monitoring and additional security
you feel is needed. At an absolute minimum:<br>
<ul>
<li>Choose a strong root password, around 16 characters, randomly generated
and alphanumeric.
<li>For remote logins (i.e. when you are doing administrative work) use SSH
not Telnet
<li>Setup SSH not to allow root logins, and to allow logins only from the
users who MUST do so (i.e. one user account per administrator)
<li>If you need to do administrative work from another computer, use SSH to
login. If you are using a Windows computer, you can download <a
href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a> to do
this.
<li>NEVER login as root. Only use the root account for tasks which *need* it,
and use the "su" command to switch from your current user to root, then exit
out of root when finished.
<li>Configure the system's firewall to block *all* ports except those which
are needed (for PHP EMS Tools, port 80 for the web server and port 22 for
SSH).
<li>Be sure to keep your file permissions tight, so unauthorized users can't
access/change/delete inportant information.
<li>Only give user accounts to those who NEED them.
<li>Use strong user passwords - randomly generated and alphanumeric.
<li>If your server has a monitor and keyboard attached to it, make sure that
you *never* leave a user logged in.
<li>Be sure to keep your server somewhere where only authorized people have
access to it. The best user permissions won't do anything if someone can pop
out the hard drive and walk away with it.
<li>Make sure that the only anonymous MySQL user is limited to
"localhost".
</ul>
</p>
<p>
There are many documents and HOWTOs online about setting up a Linux server and
installing PHP, MySQL, and Apache. If you're not familiar with this process,
please read up on it.
</p>
<p>
Lastly, please remember that in undertaking this task, *you* and you alone are
responsible for the safety and security of the data, and the operations of the
system. I will be more than happy to help out anyone who has questions. But
please be aware that you *cannot* simply install Linux and the required
software out-of-the-box and let that be sufficient. The administrator of the
system (you) must ensure that unauthorized persons will not be able to access,
modify, or remove data from the system, gain access to the system, and that
the data will be available in the event of a massive failure. All components
of a system withh eventually fail, especially if it is an older system. Hard
drives have a finite (and surprisingly short) lifespan. Please ensure that the
security of the system, and the continuity of the data on it, must be ensured.
</p>
<hr>
<p>
<b>Requirements:</b></p>
<p>
It is assumed that your target system already meets these requirements. If
not, please see the appropriate documentation from your software vendor.
</p><p>
<ol>
<li>Running, stable *nix (Unix/Linux) based system, configured as a server on
your LAN.</li>
<li>You have access to the root account.</li>
<li>Working installation of a web server (Apache2 recommended).</li>
<li>PHP5 with <a href="http://pear.php.net/">PEAR</a>, <a
href="http://pear.php.net/package/HTML_Common">HTML_Common</a>, <a href="http://pear.php.net/package/HTML_QuickForm/">HTML_QuickForms</a></li>
<li>MySQL (including client) and a 'root' user with full privileges.</li>
<li><a
href="http://naku.dohcrew.com/libchart/pages/introduction/">LibChart</a> for
graphs and charts. (Not yet implemented, but should be coming soon as a patch.</li>
<li>Libraries that LibChart depends on - GD, JPEG, PNG, ZLIB.</li>
<li>Tar and GZip.</li>
<li>Make sure that your favorite text editor, such as pico or emacs, is
installed and working.</li>
<li>If you intend on modifying the PHP code, I highly recommend that you install and
familiarize yourself with a revision control program, such as <a
href="http://www.gnu.org/software/rcs/rcs.html">GNU RCS</a>. You should use
this to track all changes to the code, and be ready to revert to the last
known working version in the event that a modification causes a problem.</li>
</ol>
<br>
Please be sure that these are all installed and WORKING prior to installing
PHP EMS Tools.</p>
<hr>
<p>
<b>Installation:</b>
</p>
<p>
With Version 2.0, the installation is pretty simple. I have even included PEAR
and HTML_QuickForm in the distribution, so you don't even need to install
those. The installation goes as follows:
<ol>
<li>Download the .tar.gz file to your web server's root directory (or a
subdirectory if this is what you want, and you know what you're
doing). Unzip/tar it like <code>tar -xvf filename.tar.gz</code>.</li>
<li>Open custom.php in your favorite text editor and update it with your
information as shown in the comments. If you're unsure about how to setup
variables in PHP, you can look it up online or ask for support, but if you
follow the syntax in the file (quotes, semicolons, etc.) all should go
well. If you're just looking to try it out, you can leave the sample
information that's not functionality-related (i.e. member types, rig check
items, shifts, etc.) alone.</li>
<li>Make sure you have Apache (or another web server of your choice) running
and configured, as well as MySQL. The latest versions (Apache 2+ and MySQL 5+)
are recommended. Also, obviously, make sure you have PHP5 installed and
working.</li>
<li>From the command line, as root, in the directory you installed to, run the
install.php script <code>php5 install.php</code>. This should walk you through
most of the installation. You may need to run it multiple times if it finds a
problem and stops.</li>
<li>Once the script finishes successfully, you should be ready to go. Point a
web browser to the server that you installed it on, and you should get the
main page.</li>
</ol>
</p>
<hr>
<p>
<b>LibChart:</b>
</p>
<p>
Though it is not yet implemented, I plan on adding a few pages using
LibChart. LibChart, available at <a
href="http://naku.dohcrew.com/libchart/pages/introduction/">http://naku.dohcrew.com/libchart/pages/introduction/</a>,
is a free PHP package that produces graphs and charts (line, bar, pie, etc.)
very easily from within a PHP script. </p>
<p>When I introduce the pages using this, they will be available as a patch to
Release 2 (just a few extra files to install in your web directory) and it
will be included with Release 3. </p>
<p><b>Installation:</b><br>
Installation of LibChart is fairly straightforward, and you should follow the
online documentation at the LibChart website (above link). To get it to
function, you will need to add a directory to your PHP EMS Tools directory
called "generated" owned by your web server, and with write
permissions. Assuming your web server user is "wwwrun" and group is "www"
(defaults for Apache on Linux), you would execute the following three commands
in your PHP EMS Tools directory (you will need to be either the web server
user or root): "mkdir generated", "chown wwwrun:www generated", "chmod u+rwx generated".

</body>
</html>