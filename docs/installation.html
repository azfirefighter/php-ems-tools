<html>
<!-- Time-stamp: "2006-12-21 14:47:44 jantman" -->
<!-- php-ems-tools docs -->
<head>
<title>PHP EMS Tools Documentation - Installation</title>
</head>
<body>
<p>
<h3>
PHP EMS Tools - Installation
<br>
SourceForge package "php-ems-tools"
</h3>
</p>
<p>This documentation is geared towards *nix systems (Unix/Linux/BSD). They
are written for Linux, but the commands should be easy enough to translate
into other nix'es.</p>
<p>
<a href="index.html">Docs</a>
</p>
<hr>
<p>
Table Of Contents:
<ol>
<li>Operating System</li>
<li>System Requirements</li>
<li>Requirements</li>
<li>Installation</li>
<li>LibChart</li>
</ol>
</p>
<hr>
<p>
<b>Operating System:</b></p>
<p>
PHP EMS Tools is written entirely in PHP (with some client-side JavaScript on
the pages) and, as such, should run on almost any "modern" operating
system. This includes the various POSIX/*nix OS's (Linux, BSD, and other
Unixes), Mac, Windows, etc.
</p>
<p>
That being said, I highly recommend (and only gaurantee compadibility with)
Linux. Compadibility with other Unixes (BSD, CentOS, etc.) should be fine, but
you will need to have enough understanding of the OS to translate my
documentation (where needed) to be applicable to your OS. Most of it should be
pretty straightforward. The options other than *nix (Linux, Unix, etc.) are
pretty much Mac and Windows (yes, there are some other less-common options as
well). Both Windows and Mac have a few issues with their use for our purposes
- mainly, they are not free, not open-source, and they are mainly geared
towards desktop users, therefore they have a lot of processes running on the
system which are unnecessary for our purposes. 
</p>
<hr>
<p>
<b>System Requirements:</b></p>
<p>
PHP EMS Tools is a small package. The only real load on the system is the
MySQL database and the webserver (hopefully Apache2). The optimal system is a
Linux computer (we'll use the term "server" loosely, it can be any
computer). It is, of course, recommended that you have a good, robust system
with a RAID hard drive configuration, redundant power supplies, and a good
backup device (liek a tape drive). This being said, it is perfectly possible
to use an old desktop computer for the server. <i>PLEASE be sure that you have
a backup plan in place, and backup the data, at a minimum, once a week.</i> If
you don't have something in place, I can provide instructions on writing a
simple backup script that will dump all of the data to one file (using
mysqldump) and e-mail it to you. 
</p>
<p>
In terms of hardware, the system does not <i>by any means</i> need to be
state-of-the-art. I have run a full server hosting PHP EMS Tools from a
Pentium 133Mhz laptop with a 20Gb hard drive and 64Mb RAM. The ideal system
for most volunteer organizations, who are not taxing the system heavily
(around 100 members or less, only using the schedule from 1 or 2 computers)
would be a 500Mhz desktop or server computer, with at least 128-256Mb RAM, a
network card, a tape drive or other automated backup device, a network card,
and a UPS (Uninterruptible Power Supply). Hard drives need not be large, 20Gb
will be MORE than enough, but should ideally be two drives in a mirrored RAID
configuration. </p>
<p>
Specs need not even be that high, but I must stress the importance of doing
backups AT LEAST once a week, if not nightly (nightly is highly recommended)
and storing the backups on a non-networked system (a removable disk, or
sending them to multiple off-site machines). The idea is that, if every
machine in your building was fried in one instant, you want the data to still
exist. I also highly recommend printing out paper copies of the schedule on a
regular basis.
</p>
<p><b>System Configuration - </b>As stated above, I highly recommend a
Linux-based system. Personally, I'm a fan of SuSE (now OpenSuSE) but any
robust distribution will do. The system should be configured minimally as a
server, having only the necessary services running. I recommend a
non-graphical system (without X windows), as running X will add substantially
to the load on the system, but is not needed at all. 
</p>
<p>
As with any system, security is a large concern, even more so if the system is
accessible from the outside world (on the Internet). I recommend reading up on
Linux security, and configuring whatever monitoring and additional security
you feel is needed. At an absolute minimum:<br>
<ul>
<li>Choose a strong root password, around 16 characters, randomly generated
and alphanumeric.
<li>For remote logins (i.e. when you are doing administrative work) use SSH
not Telnet
<li>Setup SSH not to allow root logins, and to allow logins only from the
users who MUST do so (i.e. one user account per administrator)
<li>If you need to do administrative work from another computer, use SSH to
login. If you are using a Windows computer, you can download <a
href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a> to do
this.
<li>NEVER login as root. Only use the root account for tasks which *need* it,
and use the "su" command to switch from your current user to root, then exit
out of root when finished.
<li>Configure the system's firewall to block *all* ports except those which
are needed (for PHP EMS Tools, port 80 for the web server and port 22 for
SSH).
<li>Be sure to keep your file permissions tight, so unauthorized users can't
access/change/delete inportant information.
<li>Only give user accounts to those who NEED them.
<li>Use strong user passwords - randomly generated and alphanumeric.
<li>If your server has a monitor and keyboard attached to it, make sure that
you *never* leave a user logged in.
<li>Be sure to keep your server somewhere where only authorized people have
access to it. The best user permissions won't do anything if someone can pop
out the hard drive and walk away with it.
<li>Make sure that the only anonymous MySQL user is limited to
"localhost".
</ul>
</p>
<p>
There are many documents and HOWTOs online about setting up a Linux server and
installing PHP, MySQL, and Apache. If you're not familiar with this process,
please read up on it.
</p>
<p>
Lastly, please remember that in undertaking this task, *you* and you alone are
responsible for the safety and security of the data, and the operations of the
system. I will be more than happy to help out anyone who has questions. But
please be aware that you *cannot* simply install Linux and the required
software out-of-the-box and let that be sufficient. The administrator of the
system (you) must ensure that unauthorized persons will not be able to access,
modify, or remove data from the system, gain access to the system, and that
the data will be available in the event of a massive failure. All components
of a system withh eventually fail, especially if it is an older system. Hard
drives have a finite (and surprisingly short) lifespan. Please ensure that the
security of the system, and the continuity of the data on it, must be ensured.
</p>
<hr>
<p>
<b>Requirements:</b></p>
<p>
It is assumed that your target system already meets these requirements. If
not, please see the appropriate documentation from your software vendor.
</p><p>
<ol>
<li>Running, stable *nix (Unix/Linux) based system, configured as a server on
your LAN.</li>
<li>You have access to the root account.</li>
<li>Working installation of a web server (Apache2 recommended).</li>
<li>PHP with <a href="http://pear.php.net/">PEAR</a>, <a
href="http://pear.php.net/package/HTML_Common">HTML_Common</a>, <a href="http://pear.php.net/package/HTML_QuickForm/">HTML_QuickForms</a></li>
<li>MySQL (including client) and a 'root' user with full privileges.</li>
<li>The BASH shell, installed at /bin/bash. You may need to modify the first
line of install-db.sh if your path to BASH differs.</li>
<li><a
href="http://naku.dohcrew.com/libchart/pages/introduction/">LibChart</a> for
graphs and charts. (Not yet implemented, but should be coming soon as a patch.</li>
<li>Libraries that LibChart depends on - GD, JPEG, PNG, ZLIB.</li>
<li>Tar and GZip.</li>
<li>Make sure that your favorite text editor, such as pico or emacs, is
installed and working.</li>
<li>If you intend on modifying the PHP code, I highly recommend that you install and
familiarize yourself with a revision control program, such as <a
href="http://www.gnu.org/software/rcs/rcs.html">GNU RCS</a>. You should use
this to track all changes to the code, and be ready to revert to the last
known working version in the event that a modification causes a problem.</li>
</ol>
<br>
Please be sure that these are all installed and WORKING prior to installing
PHP EMS Tools.</p>
<hr>
<p>
<b>Installation:</b>
</p>
<p>
<ol>
<li>If you have a new installation of your web server, empty the root
directory of all unneeded files.</li>
<li>Download the php-ems-tools .tar.gz archive to your server's web root
directory (recommended) or a sub-directory which you want to install it
in. It is recommended that you do not put it in a subdirectory unless you are
familiar with doing so under your operating system and web server, and know
how to correct any errors that may result from this.</li>
<li>Unzip the archive in the folder with <code>tar -xvf
<filename>.tar.gz</code> where <filename> is the name of the archive.</li>
<li>Open install-db.sh in your favorite text editor, and change the values of
the variables following the "VARIABLES TO CUSTOMIZE" line, as per the
instructions in the file. This will create the database in MySQL, populate it
with the default tables, and create an administrative user. It may be helpful
to also read through custom.php, as some values must be the same in both files.</li>
<li>Open custom.php in your favorite text editor, and edit the values to suit
your needs. This is a fairly lengthly process, but is relatively
straightforward. The file itself contains comments describing each value.</li>
<li>Check that the directory you installed to, and all files within, have read
privileges for the user that the web server runs as, and that the PHP files
have execute permissions.</li>
<li>You need, as described in the Requirements, to have the PHP/PEAR package
HTML_QuickForms installed and working. If you are installing PHP EMS Tools in
a directory other than your web root directory (other than the directory where
HTML_QuickForms is installed) you need to create a symbolic link to the
HTML_QuickForm directory. To do this, first find the full path to your
HTML_QuickForms directory. It should be a directory called "HTML". Then, in
the PHP EMS Tools directory, create a symblolic link. Under Linux, the syntax
for this is as follows: in the PHP EMS Tools directory, execute the command
"ln -s /full/path/to/HTML HTML".</li>
<li>Point a web browser to <path>/schedule.php where <path> is the path to the
folder that you installed PHP EMS Tools in. ex:
http://192.168.0.1/schedule.php if you installed it in the web root directory
of the server 192.168.0.1. Verify that this page displays fully and without
errors.</li>
<li> Correct any errors in the display of the above page, using either the
documentation from PHP EMS Tools (in the docs section), the appropriate
software documentation if the error occurred in a required package, or by
seeking help through the PHP EMS Tools Help Mailing List. Once this page
displays correctly, you can remove install-db.sh and php-ems-tools.sql from
the directory, if you feel this is needed. If you do not remove them, you
should obscure the id and password values in install-db.sh, so that others
cannot view them. Be sure to remember this information, as you will use it to
log in to PHP EMS Tools.</li>
<li>Add your organization's members to the roster with the Add Member form in
the Administrative View of the Roster (roster.php?adminView=1).</li>
<li>Use PHP EMS Tools! Your installation is COMPLETE.</li>

</ol>
</p>
<hr>
<p>
<b>LibChart:</b>
</p>
<p>
Though it is not yet implemented, I plan on adding a few pages using
LibChart. LibChart, available at <a
href="http://naku.dohcrew.com/libchart/pages/introduction/">http://naku.dohcrew.com/libchart/pages/introduction/</a>,
is a free PHP package that produces graphs and charts (line, bar, pie, etc.)
very easily from within a PHP script. </p>
<p>When I introduce the pages using this, they will be available as a patch to
Release 2 (just a few extra files to install in your web directory) and it
will be included with Release 3. </p>
<p><b>Installation:</b><br>
Installation of LibChart is fairly straightforward, and you should follow the
online documentation at the LibChart website (above link). To get it to
function, you will need to add a directory to your PHP EMS Tools directory
called "generated" owned by your web server, and with write
permissions. Assuming your web server user is "wwwrun" and group is "www"
(defaults for Apache on Linux), you would execute the following three commands
in your PHP EMS Tools directory (you will need to be either the web server
user or root): "mkdir generated", "chown wwwrun:www generated", "chmod u+rwx generated".

</body>
</html>